(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6409:(e,t,a)=>{Promise.resolve().then(a.bind(a,4941)),Promise.resolve().then(a.t.bind(a,7970,23)),Promise.resolve().then(a.t.bind(a,4839,23)),Promise.resolve().then(a.bind(a,6100))},4941:(e,t,a)=>{"use strict";a.d(t,{default:()=>J});var s=a(5155),r=a(2115),l=a(2822),i=a(1719),d=a(1902),n=a(8867),o=a(3463),c=a(9795);function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,c.QP)((0,o.$)(t))}let x=l.bL;l.YJ;let u=l.WT,p=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(l.l9,{ref:t,className:m("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...d,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=l.l9.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.PP,{ref:t,className:m("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})});h.displayName=l.PP.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wn,{ref:t,className:m("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});g.displayName=l.wn.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...d}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:t,className:m("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...d,children:[(0,s.jsx)(h,{}),(0,s.jsx)(l.LM,{className:m("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(g,{})]})})});f.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.JU,{ref:t,className:m("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let j=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(l.q7,{ref:t,className:m("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});j.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:m("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.wv.displayName;let N=e=>{let{onFilterChange:t}=e;return(0,s.jsx)("div",{className:"flex flex-col md:flex-row gap-4 py-4",children:(0,s.jsx)("div",{className:"w-full md:w-1/4",children:(0,s.jsxs)(x,{onValueChange:e=>t(e),children:[(0,s.jsx)(p,{className:"w-[180px]",children:(0,s.jsx)(u,{placeholder:"Filter by"})}),(0,s.jsxs)(f,{children:[(0,s.jsx)(j,{value:"price_asc",children:"Price: Low to High"}),(0,s.jsx)(j,{value:"price_desc",children:"Price: High to Low"}),(0,s.jsx)(j,{value:"category_all",children:"Category: All"}),(0,s.jsx)(j,{value:"category_beauty",children:"Category: Beauty"}),(0,s.jsx)(j,{value:"category_electronics",children:"Category: Electronics"}),(0,s.jsx)(j,{value:"price_all",children:"Price Range: All"}),(0,s.jsx)(j,{value:"price_0-50",children:"Price Range: $0 - $50"}),(0,s.jsx)(j,{value:"price_50-100",children:"Price Range: $50 - $100"}),(0,s.jsx)(j,{value:"price_100-200",children:"Price Range: $100 - $200"}),(0,s.jsx)(j,{value:"rating_all",children:"Rating: All"}),(0,s.jsx)(j,{value:"rating_4",children:"Rating: 4 stars & up"}),(0,s.jsx)(j,{value:"rating_3",children:"Rating: 3 stars & up"}),(0,s.jsx)(j,{value:"rating_2",children:"Rating: 2 stars & up"}),(0,s.jsx)(j,{value:"rating_1",children:"Rating: 1 star & up"})]})]})})})};var v=a(7882),y=a(2651);let b="https://dummyjson.com",w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price_asc";return(await y.A.get("".concat(b,"/products"),{params:{skip:(e-1)*t,limit:t,sort:a}})).data},_=async e=>(await y.A.get("".concat(b,"/products/").concat(e))).data,R=e=>{let{product:t,onClick:a}=e;return t?(0,s.jsxs)("div",{onClick:a,className:"border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[(0,s.jsx)("img",{loading:"lazy",src:t.thumbnail,alt:t.title,className:"w-full h-48 object-cover"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mt-2",children:t.title}),(0,s.jsxs)("p",{className:"text-foreground-600",children:["Price: $",t.price.toFixed(2)]}),(0,s.jsxs)("p",{className:"text-foreground-500 mt-1",children:["Category: ",t.category]}),(0,s.jsx)("p",{className:"text-sm ".concat("Low Stock"===t.availabilityStatus?"text-destructive":"text-foreground"),children:t.availabilityStatus})]}):(0,s.jsx)("div",{className:"border rounded-lg p-4 shadow-sm",children:(0,s.jsx)("p",{className:"text-destructive",children:"Error: Product data is missing."})})};var P=a(7594);let C=()=>(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(P.A,{className:"animate-spin"})}),k=e=>{let{sortOption:t,category:a,priceRange:l,rating:i,onProductClick:d,onError:n}=e,o=(0,r.useRef)(null),{data:c,fetchNextPage:m,hasNextPage:x,isFetchingNextPage:u,isError:p,error:h}=(0,v.q)({queryKey:["products",t],queryFn:e=>{let{pageParam:a=1}=e;return w(a,30,t)},getNextPageParam:e=>{let t=(e.skip+30)/30+1;return t<=Math.ceil(e.total/30)?t:void 0},initialPageParam:1});(0,r.useEffect)(()=>{p&&h&&n(h.message)},[p,h,n]);let g=e=>e.filter(e=>{let t="all"===a||e.category===a,s="all"===l||"0-50"===l&&e.price>=0&&e.price<=50||"50-100"===l&&e.price>50&&e.price<=100||"100-200"===l&&e.price>100&&e.price<=200,r="all"===i||e.rating>=parseInt(i);return t&&s&&r});return((0,r.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&x&&m()},{threshold:1});return o.current&&e.observe(o.current),()=>{o.current&&e.unobserve(o.current)}},[x,m]),p)?(0,s.jsx)("div",{className:"w-full flex justify-center mt-4",children:(0,s.jsxs)("p",{className:"text-red-500",children:["Error: ",h.message]})}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[null==c?void 0:c.pages.map(e=>g(e.products).map(e=>(0,s.jsx)(R,{product:e,onClick:()=>d(e.id)},e.id))),(0,s.jsx)("div",{ref:o,className:"w-full flex justify-center mt-4",children:u&&(0,s.jsx)(C,{})})]})};var E=a(9515),A=a(767);let S=E.bL,z=E.l9,$=E.ZL;E.bm;let L=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.hJ,{ref:t,className:m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});L.displayName=E.hJ.displayName;let q=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)($,{children:[(0,s.jsx)(L,{}),(0,s.jsxs)(E.UC,{ref:t,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(E.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});q.displayName=E.UC.displayName;let F=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:m("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};F.displayName="DialogHeader";let W=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.hE,{ref:t,className:m("text-lg font-semibold leading-none tracking-tight",a),...r})});W.displayName=E.hE.displayName;let I=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.VY,{ref:t,className:m("text-sm text-muted-foreground",a),...r})});I.displayName=E.VY.displayName;var O=a(3233);let U=e=>{let{productId:t,onClose:a,onError:r}=e,{data:l,isLoading:i,isError:d,error:n}=(0,O.I)({queryKey:["productDetails",t],queryFn:()=>_(t),enabled:!!t});return i?(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(C,{})}):d?(r(n.message),(0,s.jsxs)("div",{className:"p-4 text-destructive",children:["Error: ",n.message]})):l?(0,s.jsxs)(S,{open:!!t,onOpenChange:a,children:[(0,s.jsx)(z,{asChild:!0,children:(0,s.jsx)("button",{className:"hidden",children:"Open Modal"})}),(0,s.jsx)(q,{className:"max-w-full sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto p-4 md:p-6 lg:p-8 max-h-[80vh]",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(F,{className:"sticky top-0 pb-4 z-10 bg-white",children:(0,s.jsx)(W,{className:"text-lg md:text-xl lg:text-2xl",children:l.title})}),(0,s.jsxs)("div",{className:"overflow-y-auto max-h-[70vh] p-4 md:p-6 lg:p-8",children:[(0,s.jsx)(I,{asChild:!0,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:l.thumbnail,alt:l.title,className:"w-full h-auto my-4"}),(0,s.jsx)("div",{className:"text-sm md:text-base lg:text-lg",children:l.description}),(0,s.jsxs)("div",{className:"mt-2 font-semibold text-sm md:text-base lg:text-lg",children:["Price: $",l.price.toFixed(2)]}),(0,s.jsxs)("div",{className:"text-foreground-500 text-sm md:text-base lg:text-lg",children:["Stock: ",l.stock]}),(0,s.jsxs)("div",{className:"text-foreground-500 text-sm md:text-base lg:text-lg",children:["Brand: ",l.brand]}),(0,s.jsxs)("div",{className:"text-foreground-500 text-sm md:text-base lg:text-lg",children:["Category: ",l.category]})]})}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Reviews"}),l.reviews.map((e,t)=>(0,s.jsxs)("div",{className:"mt-2 border-b pb-2",children:[(0,s.jsx)("div",{className:"font-semibold text-sm md:text-base lg:text-lg",children:e.reviewerName}),(0,s.jsxs)("div",{className:"text-foreground-600 text-sm md:text-base lg:text-lg",children:["Rating: ",e.rating," / 5"]}),(0,s.jsx)("div",{className:"text-foreground-700 text-sm md:text-base lg:text-lg",children:e.comment})]},t))]})]})]})})]}):null},J=()=>{let[e,t]=(0,r.useState)("price_asc"),[a,l]=(0,r.useState)("all"),[i,d]=(0,r.useState)("all"),[n,o]=(0,r.useState)("all"),[c,m]=(0,r.useState)(null),[x,u]=(0,r.useState)(null);return(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"E-commerce Dashboard"}),(0,s.jsx)(N,{onFilterChange:e=>{e.startsWith("price_")?t(e):e.startsWith("category_")?l(e.replace("category_","")):e.startsWith("price_")?d(e.replace("price_","")):e.startsWith("rating_")&&o(e.replace("rating_",""))}}),x&&(0,s.jsxs)("div",{className:"text-red-500 mb-4",children:["Error: ",x]}),(0,s.jsx)(k,{sortOption:e,category:a,priceRange:i,rating:n,onProductClick:e=>m(e),onError:e=>{u(e)}}),c&&(0,s.jsx)(U,{productId:c,onClose:()=>m(null),onError:e=>{u(e)}})]})}},6100:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/Siddharth-Verma-StrategyWerks//_next/static/media/logo.8ff06fe8.svg",height:500,width:500,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[288,354,441,517,358],()=>t(6409)),_N_E=e.O()}]);